@startuml
cloud {
    package "GitHub" as github{
        database "msa-recap repository"  {
            [Source Code] as SC
            [GitHub Actions] as GA
        }
    }
}

cloud "Internet" {
    [YouTube] as youtube
}

package "Azure" {
    
    database "Azure Cloud Storage" as cs {
        [Video Storage bucket]
    }

    [Azure Service Plan]
    [ffmpeg] as ffmpeg
    [Transcription] as TR

    node "Azure Static Web App" as FA {
        frame "Web App" as WA {
            [Audio Capture] as AC
            [Video Capture] as VC
            [Video Upload to Azure] as VUA
            [Video Upload to YouTube] as VUY
            [Video Download] as VD
            [Video Editing] as VE
            [Video Playback] as VP
            [Feedback Form] as FF
            [HTML Web Pages] as HTML

        }

        frame "API" {
            [Azure API]
            [HTTPJSONTranscript]
            [ProjectName]
        }

    }

}



actor User as user

SC --> GA : run workflow
GA --> FA : push to Azure
FA --> user : show web page
API <--> WA : API calls
WA <--> cs : retrieve video
VUY --> youtube : upload video
VUA --> cs : upload video
ffmpeg <--> VE : merge video & audio files
TR <--> HTTPJSONTranscript : create transcript

@enduml
